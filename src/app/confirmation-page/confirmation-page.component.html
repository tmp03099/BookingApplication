<p-messages [(value)]="msgs" [enableService]="false"></p-messages>

<div class="grid info-form justify-content-center">
    <div class="col-12 flex justify-content-center">
        <h1>PAYMENT DETAIL</h1>
    </div>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="col-12 md:col-8 flex justify-content-center">
        <div class="flex flex-column payment-form justify-content-center">
            <div class="flex flex-column justify-content-center">
                <label for="card-holder">NAME OF CARD *</label>   
                <input  type="text" pInputText id="card-holder" formControlName="cardHolder">     
                <div *ngIf="cardHolderControl?.invalid && (cardHolderControl.dirty || cardHolderControl.touched)"
                class="alert alert-danger">
                    <div *ngIf="cardHolderControl.errors?.['required']">
                        <small>Name of card is required</small>
                    </div>
        
                </div>
            </div>
    
            <div class="flex flex-column justify-content-center">
                <label for="card-number">CARD NUMBER *</label>   
                <input type="text" pInputText id="card-number" formControlName="cardNumber">     
                <div *ngIf="cardNumberControl?.invalid && (cardNumberControl.dirty || cardNumberControl.touched)"
                class="alert alert-danger">
                    <div *ngIf="cardNumberControl.errors?.['required']">
                        <small>Card number is required</small>
                    </div>
                    <div *ngIf="cardNumberControl.errors?.['minlength']">
                        <small>Card Number must be at least 12 number</small>
                    </div>
                </div>
            </div>
    
            <div class="flex gap-3 lg:gap-8">
                <div class="flex flex-column ">
                    <label for="month">EXPIRED DATE *</label>
                    <p-inputMask [(ngModel)]="expired" mask="99/9999" placeholder="MM/YYYY"
                                formControlName="expiredDate" >
                    </p-inputMask>
                    <div *ngIf="dateControl?.invalid && ( dateControl.dirty || dateControl.touched)" class="alert alert-danger">
                        <div *ngIf="dateControl.errors?.['required']">
                            <small> Expired date is required</small>
                        </div>
                    </div>
                </div>

                <div class="flex flex-column">
                    <label for="cvv">CVV *</label>
                    <input type="text" pInputText id="cvv" formControlName="cvvOfCard">
                    <div *ngIf="cvvControl?.invalid && ( cvvControl.dirty || cvvControl.touched)" class="alert alert-danger">
                        <div *ngIf="cvvControl.errors?.['required']">
                            <small> CVV is required</small>
                        </div>
                        <div *ngIf="cvvControl.errors?.['minlength']">
                            <small> CVV must be 3 or 4 number</small>
                        </div>
                        <div *ngIf="cvvControl.errors?.['maxlength']">
                            <small> CVV must be 3 or 4 number</small>
                        </div>
                    </div>
                </div>
            </div>
            <p-button type="submit" [disabled]="!profileForm.valid"
                (click)="onSubmit()">
                    SUBMIT
            </p-button>
            
        </div>


    </form>
    
</div>
